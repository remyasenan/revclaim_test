<head>

  <%= javascript_include_tag "ans_cms" %>

  <script type="text/javascript" charset="utf-8">
      //<![CDATA[
      document.observe("dom:loaded", function() {

          for (var i = 1; i <= 50; i++)
          {

              $("cpthcpcd_id" + i).observe("keyup", function() {
                  if ($(this).value.length == 5) {
                      var url = "/cpt_codes/show?code=" + $(this).value;
                      //"/cpt_codes/show?code=" + $(this).value;
                      new Ajax.Request(url, {
                          method: 'get',
                          onSuccess: function(transport) {
                              $("cpt_code_description").update("CPT Code Description : " + transport.responseText);
                          }
                      })
                  } else {
                      $("cpt_code_description").update("CPT Code Description : CODE INCOMPLETE");
                  }
              });
          }
      });
      //]]>
  </script>




  <%= javascript_include_tag "auto_complete" %>
  <%= javascript_include_tag "highlight" %>
</head>

<body>


<div id="Layer2" style="overflow:scroll; height:300px;">
  <script LANGUAGE="JavaScript">
      imagedisply('<%=@image.public_filename()%>')
  </script>
</div>
      
<!--Space for Main Form -->
<%= form_tag({:action => 'updateqa', :batchid=>session[:batchid], :view => params[:view], :payerid =>session[:payerid], :jobid => @jobid, :patient_id=>@patientinfo, :line=>@l, :error_id_array=>params[:error_type_array]}, :name=>'form1', :onKeyUp=>"highlight1(event)", :onClick=>"highlight1(event)") do %>
<%#form_tag :name=>'form1',:action => 'updateqa',:batchid=>session[:batchid],:payerid =>session[:payerid],:jobid => @jobid,:patient_id=>patient_info,:line=>@l,:error_id_array=>params[:error_type_array] do%>
<div id="down_table" style="overflow:scroll; height:200px;">
  <%= will_paginate @patientinfo %>
<% @patientinfo.each do |patient_info| %>
<%= hidden_field_tag :patient_id, patient_info.id %>
<%= hidden_field_tag :view, params[:view] %>
<%= hidden_field_tag 'batchid',"", :value => params[:batchid] %>
<%= hidden_field_tag :svc_count, @lineinfo.length %>
    <table width="100%" border="0" cellpadding="0" cellspacing="0">
      <tr>
        <th>PayerName</th>
        <th>PayerAddressOne</th>
        <th>PayerAddressTwo</th>
        <th>PayerCity</th>
        <th>PayerState</th>
        <th>PayerZipcode</th>
      </tr>
      <tr>
        <td><%= text_field_with_auto_complete :payer, :name, :size=>"12", :class => "black_text #{patient_info.payer.style('payer') unless patient_info.payer.nil?}",
                                              :onkeypress => "enlargeTextfieldSize('payer_name',12)",
                                              :onblur => "resetTextfieldSize('payer_name',12); payerInformations(); convert_case_toupper('payer_name') ",
                                              :style=>"width:350px", :tabindex=>"1", :value => (patient_info.payer.payer unless patient_info.payer.nil?) %></td>
        <td><%= text_field_tag :pay_add_one, "", :size=>"12",
                               :onkeypress => "enlargeTextfieldSize('pay_add_one',12)",
                               :onblur => "resetTextfieldSize('pay_add_one',12); convert_case_toupper('pay_add_one')",
                               :class => "black_text #{patient_info.payer.style('pay_address_one') unless patient_info.payer.nil?}",
                               :tabindex=>"2", :value => (patient_info.payer.pay_address_one unless patient_info.payer.nil?) %></td>
        <td><%= text_field_tag :pay_add_two, "", :size=>"12", :class => "black_text #{patient_info.payer.style('pay_address_two') unless patient_info.payer.nil?}",
                               :onkeypress => "enlargeTextfieldSize('pay_add_two',12)",
                               :onblur => "resetTextfieldSize('pay_add_two',12);  convert_case_toupper('pay_add_two')",
                               :tabindex=>"3", :value => (patient_info.payer.pay_address_two unless patient_info.payer.nil?) %></td>
        <td><%= text_field_tag :payer_city, "", :size=>"12", :class => "black_text #{patient_info.payer.style('city') unless patient_info.payer.nil?}",
                               :onkeypress => "enlargeTextfieldSize('payer_city',12)",
                               :onblur => "resetTextfieldSize('payer_city',12); convert_case_toupper('payer_city')",
                               :tabindex=>"4", :value => (patient_info.payer.city unless patient_info.payer.nil?) %></td>
        <td><%= select_tag 'payer_state', options_for_select(@state,patient_info.payer.state), :id=>"payer_state", :tabindex=>"5" , :value => (patient_info.payer.state unless patient_info.payer.nil?) %></td>
        <td><%= text_field_tag :payer_zipcode, "", :size=>"12", :class => "black_text #{patient_info.payer.style('zipcode') unless patient_info.payer.nil?}", :tabindex=>"6", :value => (patient_info.payer.zipcode unless patient_info.payer.nil?) %></td>

      </tr>
    </table>
    <table width="900">
    <tbody>
    <tr>
    <td align="left" valign="top" width="650">
    <table width="650">
      <tbody>
      <tr>
        <th align="left"><span class="button">1.</span> MEDICARE</th>
        <th align="left">MEDICAID</th>
        <th align="left">TRICARE CHAMPUS</th>
        <th align="left">CHAMPVA</th>
        <th align="left">GROUP <br>
          HEALTH PLAN
        </th>
        <th align="left">&nbsp;FECABLK <br>
          LUNG
        </th>
        <th align="left">&nbsp;OTHER</th>
        <th align="left">&nbsp;NONE</th>
      </tr>
      <tr>
        <% if patient_info.insurance_type=='MEDICAID'
            @medicaid = true

        elsif patient_info.insurance_type=='MEDICARE'
            @medicare = true
        elsif patient_info.insurance_type=='TRICARECHAMPUS'
            @TRICARECHAMPUS = true
        elsif patient_info.insurance_type=='CHAMPVA'
            @CHAMPVA = true
        elsif patient_info.insurance_type=='GROUPHEALTHPLAN'
            @GROUPHEALTHPLAN = true
        elsif patient_info.insurance_type=='FECABLKLUNG'
            @FECABLKLUNG = true
        elsif patient_info.insurance_type=='OTHER'
            @OTHER = true


        end
        %>
        <td align="right">
          <%= radio_button(:cms1500, :insurance_type, 'MEDICARE', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@medicare) %>

          <br>
          (Medicare #)
        </td>
        <td align="right">  <%= radio_button(:cms1500, :insurance_type, 'MEDICAID', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@medicaid) %>
          <br>
          (Medicaid #)
        </td>
        <td align="right">   <%= radio_button(:cms1500, :insurance_type, 'TRICARECHAMPUS', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@TRICARECHAMPUS) %>
          <br>
          (Sponsor's SSN)
        </td>
        <td align="right"> <%= radio_button(:cms1500, :insurance_type, 'CHAMPVA', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@CHAMPVA) %>
          <br>
          (Member ID#)
        </td>
        <td align="right"> <%= radio_button(:cms1500, :insurance_type, 'GROUPHEALTHPLAN', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@GROUPHEALTHPLAN) %>
          <br>
          (SSN or ID)
        </td>
        <td align="right"> <%= radio_button(:cms1500, :insurance_type, 'FECABLKLUNG', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=>@FECABLKLUNG) %>
          <br>
          (SSN)
        </td>
        <td align="right"> <%= radio_button(:cms1500, :insurance_type, 'OTHER', :onFocus=>"setXYScroll(85)", :tabindex=>"7", :checked=> @OTHER) %>
          <br>
          (ID)
        </td>
        <td align="right"> <%= radio_button(:cms1500, :insurance_type, 'NULL', :onFocus=>"setXYScroll(85)", :tabindex=>"7") %>
          <br>
        </td>
      </tr>

      </tbody>
    </table>
    <table width="601">
    <tbody>
    <tr>
      <th align="left" width="270"><span class="button">2.</span> PATIENT'S NAME <br><span class="small">[Last Name] [Suffix] [First Name] [Middle Intial]</span>
      </th>
      <th align="left" width="218"><span class="button">3.</span> PATIENT'S BIRTH DATE&nbsp;</th>
      <th align="left" width="88">SEX</th>
    </tr>
    <tr>
      <td align="right"><%= text_field :cms1500, :patient_last_name, :class => "black_text", :size => "10", :onFocus=>"setXYScroll(120)",
                                       :onkeypress => "enlargeTextfieldSize('cms1500_patient_last_name',10)",
                                       :onblur => "resetTextfieldSize('cms1500_patient_last_name',10); convert_case_toupper('cms1500_patient_last_name')",
                                       :tabindex=>"9", :value =>patient_info.patient_last_name %>

        <%= text_field :cms1500, :patient_suffix, :class => "black_text", :style=>"width:30px", :onblur => "convert_case_toupper('cms1500_patient_suffix')", :maxlength=>'3', :onFocus=>"setXYScroll(120)", :tabindex=>"10", :value =>patient_info.patient_suffix %>

        <%= text_field :cms1500, :patient_first_name, :class => "black_text", :size => "10", :onFocus=>"setXYScroll(120)", :tabindex=>"11",
                       :onkeypress => "enlargeTextfieldSize('cms1500_patient_first_name',10)",
                       :onblur => "resetTextfieldSize('cms1500_patient_first_name',10); convert_case_toupper('cms1500_patient_first_name')",
                       :value =>patient_info.patient_first_name %>

        <%= text_field :cms1500, :patient_middle_initial, :class => "black_text", :size => "2", :onFocus=>"setXYScroll(120)", :onblur => "convert_case_toupper('cms1500_patient_middle_initial')", :tabindex=>"12", :value =>patient_info.patient_middle_initial, :maxlength=>'1' %></td>
      <td align="right" width="218">
        <%
           @patientmonth =(patient_info.patient_dob).try(:strftime,"%m")
           @patientdate =(patient_info.patient_dob).try(:strftime,"%d")
           @patientyear =(patient_info.patient_dob).try(:strftime,"%Y")
        %>
        <%= text_field_tag :month, "", :id=>"patient_dob_month", :style=>"width:20px", :class => "black_text", :size=>"1", :maxlength=>'2', :onFocus=>"setXYScroll(120)", :tabindex=>"13", :value=>@patientmonth %>
        /
        <%= text_field_tag :date, "", :id=>"patient_dob_date", :size=>"1", :maxlength=>'2', :style=>"width:20px", :class => "black_text", :onFocus=>"setXYScroll(120)", :tabindex=>"14", :value=>@patientdate %>
        /
        <%= text_field_tag :year, "", :id=>"patient_dob_year", :size=>"2", :maxlength=>'4', :class => "black_text", :onFocus=>"setXYScroll(120)", :onBlur => "isDOB('patient_dob_month','patient_dob_date','patient_dob_year')", :tabindex=>"15", :value=>@patientyear %>
        &nbsp;</td>
      <td align="right" width="92">
        <table width="100%" border="0" cellpadding="0" cellspacing="0">
          <tr>
            <td>M
              <%
                 if patient_info.patient_sex=='M'
                     @m=true
                 elsif patient_info.patient_sex=='F'
                     @f=true
                 elsif patient_info.patient_sex=='U'
                     @u=true
                 end
              %>
              <%= radio_button(:cms1500, :patient_sex, 'M', :checked=>@m, :onFocus=>"setXYScroll(120)", :tabindex=>"16") %> </td>
            <td>F <%= radio_button(:cms1500, :patient_sex, 'F', :checked=>@f, :onFocus=>"setXYScroll(120)", :tabindex=>"16") %></td>
            <td>U <%= radio_button(:cms1500, :patient_sex, 'U', :checked=>@u, :onFocus=>"setXYScroll(120)", :tabindex=>"16") %></td>
          </tr>
        </table>
      </td>
    </tr>
    <tr>
      <td rowspan="2" align="left" valign="top">
        <table width="100%">
          <tbody>
          <tr>
            <th align="left"><span class="button">5.</span>PATIENT'S ADDRESS (No., Street)</th>
          </tr>
          <tr>
            <td><%= text_field :cms1500, :patient_address, :class=>"black_text", :size=>"20", :onFocus=>"setXYScroll(157)",
                               :onkeypress => "enlargeTextfieldSize('cms1500_patient_address',10)",
                               :onblur => "resetTextfieldSize('cms1500_patient_address',10); convert_case_toupper('cms1500_patient_address')",
                               :tabindex=>"17", :value =>patient_info.patient_address %>
              <%= text_field :cms1500, :patient_address2, :class=>"black_text", :size=>"20", :onFocus=>"setXYScroll(157)",
                               :onkeypress => "enlargeTextfieldSize('cms1500_patient_address',10)",
                               :onblur => "resetTextfieldSize('cms1500_patient_address',10); convert_case_toupper('cms1500_patient_address2')",
                               :tabindex=>"17", :value =>patient_info.patient_address2 %>
                </td>
          </tr>
          </tbody>
        </table>
        <table width="100%">

          <tbody>
          <tr>
            <th align="left" width="70%">CITY</th>
            <th align="left" width="30%">STATE</th>
          </tr>
          <tr>
            <td><%= text_field :cms1500, :patient_city, :class=>"black_text", :size=>"30", :onFocus=>"setXYScroll(193)",
                               :onkeypress => "enlargeTextfieldSize('cms1500_patient_city',10)",
                               :onblur => "resetTextfieldSize('cms1500_patient_city',10); convert_case_toupper('cms1500_patient_city')",
                               :tabindex=>"18", :value=>patient_info.patient_city %></td>
            <td> <%= select_tag 'state', options_for_select(@state, patient_info.patient_state), :id=>"cms1500_patient_state", :onFocus=>"setXYScroll(193)", :tabindex=>"19" %></td>
          </tr>
          </tbody>
        </table>
        <table width="100%">
          <tbody>
          <tr>
            <th align="left">ZIP CODE</th>
            <th align="left">TELEPHONE (Include Area Code)</th>
          </tr>
          <tr>
            <td><%= text_field :cms1500, :patient_zipcode, :class=>"black_text", :size=>"9", :maxlength=>'10', :onFocus=>"setXYScroll(228)", :tabindex=>"20", :value=>patient_info.patient_zipcode %></td>
            <td><%= text_field :cms1500, :patient_telephone, :class=>"black_text", :size=>"15", :onFocus=>"setXYScroll(228)", :tabindex=>"21", :value=>patient_info.patient_telephone %></td>
          </tr>
          </tbody>
        </table>
        <table width="100%">
          <tbody>
          <tr>
            <th align="left"><span class="button">9.</span> OTHER INSURED'S NAME<br><span class="small">[Last Name] [Suffix] [First Name] [Middle Intial]</span>
            </th>
          </tr>
          <tr>
            <% if params[:batchid].include?("AMLI") %>
            <td><%= text_field :cms1500, :other_insured_last_name, :class=>"black_text", :size=>"6", :value=>'',
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_last_name',6)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_last_name',6); convert_case_toupper('cms1500_other_insured_last_name')",
                               :onFocus=>"setXYScroll(270)", :value=>patient_info.other_insured_last_name, :disabled => true %>
              <%= text_field :cms1500, :other_insured_suffix, :class=>"black_text", :style=>"width:30px", :maxlength=>'3', :value=>'', :onFocus=>"setXYScroll(270)", :onblur => "convert_case_toupper('cms1500_other_insured_suffix')", :value=>patient_info.other_insured_suffix, :disabled => true %>
              <%= text_field :cms1500, :other_insured_first_name, :class=>"black_text", :size=>"6", :value=>'', :onFocus=>"setXYScroll(270)",
                             :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_first_name',10)",
                             :onblur => "resetTextfieldSize('cms1500_other_insured_first_name',10); convert_case_toupper('cms1500_other_insured_first_name')",
                             :value=>patient_info.other_insured_first_name, :disabled => true %>
              <%= text_field :cms1500, :other_insured_middle_initial, :class=>"black_text", :size=>"6", :value=>'', :maxlength=>'1', :onFocus=>"setXYScroll(270)", :onblur => "convert_case_toupper('cms1500_other_insured_middle_initial')", :value=>patient_info.other_insured_middle_initial, :disabled => true %></td>
            <% else %>
            <td><%= text_field :cms1500, :other_insured_last_name, :class=>"black_text", :size=>"6", :value=>'',
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_last_name',6)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_last_name',6); convert_case_toupper('cms1500_other_insured_last_name')",
                               :onFocus=>"setXYScroll(270)", :value=>patient_info.other_insured_last_name %>
              <%= text_field :cms1500, :other_insured_suffix, :class=>"black_text", :style=>"width:30px", :maxlength=>'3', :value=>'', :onFocus=>"setXYScroll(270)", :onblur => "convert_case_toupper('cms1500_other_insured_suffix')", :value=>patient_info.other_insured_suffix %>
              <%= text_field :cms1500, :other_insured_first_name, :class=>"black_text", :size=>"6", :value=>'', :onFocus=>"setXYScroll(270)",
                             :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_first_name',10)",
                             :onblur => "resetTextfieldSize('cms1500_other_insured_first_name',10); convert_case_toupper('cms1500_other_insured_first_name')",
                             :value=>patient_info.other_insured_first_name %>
              <%= text_field :cms1500, :other_insured_middle_initial, :class=>"black_text", :size=>"6", :value=>'', :maxlength=>'1', :onFocus=>"setXYScroll(270)", :onblur => "convert_case_toupper('cms1500_other_insured_middle_initial')", :value=>patient_info.other_insured_middle_initial %></td>
            <% end %>
          </tr>
          <tr>
            <th align="left"><span class="button">a.</span> OTHER INSURED'S POLICY OR GROUP NUMBER</th>
          </tr>
          <tr>
            <% if params[:batchid].include?("AMLI") %>
            <td><%= text_field :cms1500, :other_insured_policy_or_group_number, :class=>"black_text", :size=>"40", :value=>'',
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_policy_or_group_number',10)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_policy_or_group_number',10); convert_case_toupper('cms1500_other_insured_policy_or_group_number')",
                               :maxlength=>'28', :onFocus=>"setXYScroll(300)", :value =>patient_info.other_insured_policy_or_group_number, :disabled => true %></td>
            <% else %>
            <td><%= text_field :cms1500, :other_insured_policy_or_group_number, :class=>"black_text", :size=>"40", :value=>'',
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_policy_or_group_number',10)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_policy_or_group_number',10); convert_case_toupper('cms1500_other_insured_policy_or_group_number')",
                               :maxlength=>'28', :onFocus=>"setXYScroll(300)", :value =>patient_info.other_insured_policy_or_group_number %></td>
            <% end %>
          </tr>
          <tr>
            <th align="left"><span class="button">b.</span> OTHER INSURED'S DATE OF BIRTH</th>
          </tr>
          <tr>
            <%
               @otherinsured_patientmonth =(patient_info.other_insured_dob).try(:strftime,"%m")
               @otherinsured_patientdate =(patient_info.other_insured_dob).try(:strftime,"%d")
               @otherinsured_patientyear =(patient_info.other_insured_dob).try(:strftime,"%Y")
            %>
            <td><%= text_field :cms15001, :other_dob_month, :id => "other_dob_month", :class=>"black_text", :style=>"width:20px", :value=>@otherinsured_patientmonth, :maxlength=>'2', :onFocus=>"setXYScroll(335)", :disabled => true %>
              /
              <%= text_field :cms15001, :other_dob_date, :id => "other_dob_date", :class=>"black_text", :style=>"width:20px", :value=>@otherinsured_patientdate, :maxlength=>'2', :onFocus=>"setXYScroll(335)", :disabled => true %>
              /
              <%= text_field :cms15001, :other_dob_year, :id => "other_dob_year", :class=>"black_text", :size=>"1", :value=>@otherinsured_patientyear, :maxlength=>'4', :onFocus=>"setXYScroll(335)", :onBlur => "isDOB_nonmandatory('other_dob_month','other_dob_date','other_dob_year')", :disabled => true %>
              &nbsp; &nbsp;&nbsp;</td>
          </tr>
          <tr>
            <%
               if patient_info.other_insured_sex=='M'
                   @other_m=true
               elsif patient_info.other_insured_sex=='F'
                   @other_f=true
               elsif patient_info.other_insured_sex=='U'
                   @other_u=true
               end
            %>
            <td>
              <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td><span class="black_text"><strong>SEX</strong></span></td>
                  <td> M
                    <%= radio_button(:cms1500, :other_insured_sex, 'M', :checked=>@other_m, :onFocus=>"setXYScroll(335)", :disabled => true) %></td>
                  <td>F <%= radio_button(:cms1500, :other_insured_sex, 'F', :checked=>@other_f, :onFocus=>"setXYScroll(335)", :disabled => true) %></td>
                  <td>U <%= radio_button(:cms1500, :other_insured_sex, 'U', :checked=>@other_u, :onFocus=>"setXYScroll(335)", :disabled => true) %></td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <th align="left"><span class="button">c.</span> EMPLOYER'S NAME OR SCHOOL NAME</th>
          </tr>
          <tr>
            <td><%= text_field :cms1500, :other_insured_employers_or_school_name, :class=>"black_text", :size=>"30",
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_employers_or_school_name',30)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_employers_or_school_name',30);",
                               :value=>patient_info.other_insured_employers_or_school_name, :onFocus=>"setXYScroll(375)", :disabled => true %></td>
          </tr>
          <tr>
            <th align="left"><span class="button">d.</span> INSURANCE PLAN NAME OR PROGRAM NAME</th>
          </tr>
          <tr>
            <% if params[:batchid].include?("AMLI") %>
            <td><%= text_field :cms1500, :other_insured_insurance_plan_name, :class=>"black_text", :size=>30,
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_insurance_plan_name',30)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_insurance_plan_name',30); convert_case_toupper('cms1500_other_insured_insurance_plan_name')",
                               :value=>patient_info.other_insured_insurance_plan_name, :onFocus=>"setXYScroll(410)", :disabled => true %></td>
            <% else %>
            <td><%= text_field :cms1500, :other_insured_insurance_plan_name, :class=>"black_text", :size=>30,
                               :onkeypress => "enlargeTextfieldSize('cms1500_other_insured_insurance_plan_name',30)",
                               :onblur => "resetTextfieldSize('cms1500_other_insured_insurance_plan_name',30); convert_case_toupper('cms1500_other_insured_insurance_plan_name')",
                               :value=>patient_info.other_insured_insurance_plan_name, :onFocus=>"setXYScroll(410)"%></td>
            <% end %>
          </tr>
          </tbody>
        </table>
      </td>
    </tr>
    <tr>
      <td colspan="2" align="right" valign="top">
        <table width="100%">
          <tbody>
          <tr>
            <th align="left"><span class="button">6.</span> PATIENT RELATIONSHIP TO INSURED</th>
          </tr>
          <tr>
            <%
               if patient_info.patient_relationship_to_insured=='Self'
                   @self = true
               else
                   if patient_info.patient_relationship_to_insured=='Spouse'
                       @spouse = true
                   else
                       if patient_info.patient_relationship_to_insured=='Child'
                           @child = true
                       else
                           if patient_info.patient_relationship_to_insured=='Others'
                               @others = true
                           else
                               if patient_info.patient_relationship_to_insured=='None'
                                   @none = true
                               else
                                   @self = false
                                   @spouse = false
                                   @child = false
                                   @others = false
                                   @none = false
                               end
                           end
                       end
                   end
               end

            %>

            <td>
              <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Self
                    <%= radio_button(:cms1500, :patient_relationship_to_insured, 'Self', :onkeyup =>'displayinfo()', :onFocus=>"setXYScroll(157)", :checked=>@self, :tabindex=>"22") %></td>
                  <td>Spouse
                    <%= radio_button(:cms1500, :patient_relationship_to_insured, 'Spouse', :onkeyup =>'clearinfo()', :onFocus=>"setXYScroll(157)", :checked=>@spouse, :tabindex=>"22") %></td>
                  <td>Child
                    <%= radio_button(:cms1500, :patient_relationship_to_insured, 'Child', :onkeyup =>'clearinfo()', :onFocus=>"setXYScroll(157)", :checked=>@child, :tabindex=>"22") %></td>
                  <td>Others
                    <%= radio_button(:cms1500, :patient_relationship_to_insured, 'Others', :checked=>@others, :onFocus=>"setXYScroll(157)", :onkeyup =>'clearinfo()', :tabindex=>"22") %></td>
                  <td>None
                    <%= radio_button(:cms1500, :patient_relationship_to_insured, 'None', :checked=>@none, :onFocus=>"setXYScroll(157)", :onkeyup =>'clearinfo()', :tabindex=>"22") %></td>
                </tr>
              </table>
            </td>
          </tr>
          </tbody>
        </table>
        <table width="100%">
          <tbody>
          <tr>
            <th align="left"><span class="button">8.</span> PATIENT STATUS</th>
          </tr>
          <tr>
            <% if patient_info.patient_marital_status=='Single'
                @single = true
            else
                if patient_info.patient_relationship_to_insured=='Married'
                    @married = true
                else
                    if patient_info.patient_relationship_to_insured=='Others'
                        @others_new = true
                    else
                        @single = false
                        @married = false
                        @others_new = false
                    end
                end
            end


            %>
            <td>

              <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Single
                    <%= radio_button(:cms1500, :patient_marital_status, 'Single', :onFocus=>"setXYScroll(193)", :checked=>@single, :tabindex=>"22", :disabled=>true) %></td>
                  <td>Married
                    <%= radio_button(:cms1500, :patient_marital_status, 'Married', :onFocus=>"setXYScroll(193)", :checked=>@married, :tabindex=>"22", :disabled=>true) %></td>
                  <td>Others
                    <%= radio_button(:cms1500, :patient_marital_status, 'Others', :onFocus=>"setXYScroll(193)", :checked=>@others_new, :tabindex=>"22", :disabled=>true) %></td>
                  <td>None
                    <%= radio_button(:cms1500, :patient_marital_status, 'NULL', :onFocus=>"setXYScroll(193)", :tabindex=>"22", :disabled=>true) %></td>
                </tr>
              </table>
            </td>

          </tr>
          <tr>
            <% if patient_info.patient_employment_status=='employed'
                @employed = true
            else
                if patient_info.patient_employment_status=='Full-Time Student'

                    @fulltime = true
                else
                    @parttime = true
                end
            end


            %>
            <td>
              <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Employed
                    <%= radio_button(:cms1500, :patient_employment_status, 'employed', :onFocus=>"setXYScroll(193)", :checked=>@employed, :tabindex=>"23", :disabled=>true) %></td>
                  <td>Full-Time Student
                    <%= radio_button(:cms1500, :patient_employment_status, 'Full-Time Student', :onFocus=>"setXYScroll(193)", :checked=>@fulltime, :tabindex=>"23", :disabled=>true) %></td>
                  <td>Part-Time Student
                    <%= radio_button(:cms1500, :patient_employment_status, 'Part-Time Student', :onFocus=>"setXYScroll(193)", :checked=>@parttime, :tabindex=>"23", :disabled=>true) %></td>
                  <td>None
                    <%= radio_button(:cms1500, :patient_employment_status, 'NULL', :onFocus=>"setXYScroll(193)", :checked=>@parttime, :tabindex=>"23", :disabled=>true) %></td>
                </tr>
              </table>
            </td>
          </tr>
          </tbody>
        </table>
        <table width="100%">
          <tbody>
          <tr>
            <th colspan="2" align="left"><span class="button">10.</span> IS PATIENT'S CONDITION RELATED TO:</th>
          </tr>
          <tr>
            <% if patient_info.patient_condition_to_employment=='Yes'
                @emp_condition_y = true
            else
                @emp_condition_n = true
            end

            %>
            <td colspan="2" height="50">a. EMPLOYMENT? (Current or Previous)
              <table width="210" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Yes
                    <%= radio_button(:cms1500, :patient_condition_to_employment, 'Yes', :checked=>true, :onFocus=>"setXYScroll(270)", :tabindex=>"32", :checked=>@emp_condition_y) %></td>
                  <td>No
                    <%= radio_button(:cms1500, :patient_condition_to_employment, 'No', :onFocus=>"setXYScroll(270)", :tabindex=>"32", :checked=>@emp_condition_n) %></td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <% if patient_info.patient_condition_to_auto_accident=='Yes'
                @emp_auto_accident_y = true
                auto_acc_status = false
            else
                @emp_auto_accident_n = true
                auto_acc_status = true
            end

            %>
            <td height="50" width="64%">
              b. AUTO ACCIDENT?
              <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Yes
                    <%= radio_button(:cms1500, :patient_condition_to_auto_accident, 'Yes', :checked=>true, :onFocus=>"setXYScroll(340)", :tabindex=>"33", :checked =>@emp_auto_accident_y, :onkeyup=>"enableAutoaccident()") %></td>
                  <td>No
                    <%= radio_button(:cms1500, :patient_condition_to_auto_accident, 'No', :onFocus=>"setXYScroll(340)", :tabindex=>"33", :checked =>@emp_auto_accident_n, :onkeyup=>"disableAutoaccident()") %></td>
                </tr>
              </table>
            </td>
            <td width="36%">PLACE (State)<br>
              <%= text_field :cms1500, :patient_condition_to_auto_accident_place, :class=>"black_text", :style=>"width:15px", :size=>"3", :value=>'', :maxlength=>'2', :onFocus=>"setXYScroll(340)", :tabindex=>"34", :value =>patient_info.patient_condition_to_auto_accident_place, :id=>'auto_accident_place_id', :disabled => auto_acc_status %>
            </td>
          </tr>
          <tr>
            <% if patient_info.patient_condition_to_other_accident=='Yes'
                @emp_other_accident_y = true
            else
                @emp_other_accident_n = true
            end

            %>

            <td colspan="2" height="50">c. OTHER ACCIDENT?
              <table width="210" border="0" cellpadding="0" cellspacing="0">
                <tr>
                  <td>Yes
                    <%= radio_button(:cms1500, :patient_condition_to_other_accident, 'Yes', :checked=>true, :onFocus=>"setXYScroll(378)", :tabindex=>"35", :checked =>@emp_other_accident_y) %></td>
                  <td>No
                    <%= radio_button(:cms1500, :patient_condition_to_other_accident, 'No', :onFocus=>"setXYScroll(378)", :tabindex=>"35", :checked =>@emp_other_accident_n) %></td>
                </tr>
              </table>
            </td>
          </tr>
          <tr>
            <td colspan="2"><span class="button">10d.</span> RESERVED FOR LOCAL USE<br>
              <%= text_field :cms1500, :patient_condition_reserved_for_local_use, :class=>"black_text", :size=>"40", :maxlength=>'20', :value=>patient_info.patient_condition_reserved_for_local_use, :onFocus=>"setXYScroll(340)" %>
          </tr>
          </tbody>
        </table>
      </td>
    </tr>
    </tbody>
    </table>
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tbody>
      <tr>
        <td colspan="2" class="black_text">READ BACK OF FORM BEFORE COMPLETING &amp; SIGNING THIS FORM.</td>
      </tr>
      <tr>
        <td colspan="2" height="60"><span class="button"><strong>12.</strong></span>
          PATIENT'S OR AUTHORIZED PERSON'S SIGNATURE I authorize the release of
          any medical or other information necessary to process this claim. I
          also request payment of government benefits either to myself or to the
          party who accepts assignment below.
        </td>
      </tr>
      <tr>

        <% if patient_info.patient_signature_on_file=='Signature on File'
            @pat_sign_on_file_y = true
        else
            if patient_info.patient_signature_on_file=='None'
                @pat_sign_on_file_n  = true
            end
        end

        %>

        <td width="316">
          <table width="100%" border="0" cellpadding="0" cellspacing="0">
            <tr>
              <td>Signature on File:</td>
              <td>Yes
                <%= radio_button(:cms1500, :patient_signature_on_file, 'Signature on File', :onFocus=>"setXYScroll(450)", :tabindex=>"45", :checked=>@pat_sign_on_file_y) %></td>
              <td>No
                <%= radio_button(:cms1500, :patient_signature_on_file, 'None', :onFocus=>"setXYScroll(450)", :tabindex=>"45", :checked=>@pat_sign_on_file_n) %></td>
              <td>None
                <%= radio_button(:cms1500, :patient_signature_on_file, 'NULL', :onFocus=>"setXYScroll(450)", :tabindex=>"45", :disabled => true) %></td>
            </tr>
          </table>
        </td>
        <%

           @pat_signed_month =(patient_info.patient_signed_date).try(:strftime,"%m")
           @pat_signed_date  =(patient_info.patient_signed_date).try(:strftime,"%d")
           @pat_signed_year  =(patient_info.patient_signed_date).try(:strftime,"%Y")
        %>
        <td width="276">Date:
          <%= text_field :cms15001, :signed_month, :class=>"black_text", :size=>"3", :style=>"width:20px", :id=>'signed_month_101', :value=>@pat_signed_month, :maxlength=>'2', :onFocus=>"setXYScroll(450)", :tabindex=>"46", :disabled=>true %>
          /
          <%= text_field :cms15001, :signed_date, :class=>"black_text", :size=>"3", :style=>"width:20px", :id=>'signed_date_102', :value=>@pat_signed_date, :maxlength=>'2', :onFocus=>"setXYScroll(450)", :tabindex=>"47", :disabled=>true %>
          /
          <%= text_field :cms15001, :signed_year, :class=>"black_text", :size=>"4", :id=>'signed_year_103', :value=>@pat_signed_year, :maxlength=>'4', :onFocus=>"setXYScroll(450)", :onBlur => "isDOB_nonmandatory('signed_month_101','signed_date_102','signed_year_103')", :tabindex=>"48", :disabled=>true %>
          &nbsp; &nbsp;&nbsp;</td>
      </tr>
      </tbody>
    </table>
    </td>
    <td align="left" valign="top" width="250">
      <table width="100%">
        <tbody>
        <tr>
          <th align="left"><span class="button">1a.</span> INSURED'S I.D. NUMBER</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_id, :id =>'insureds_id', :class=>"black_text", :size=>"30", :onFocus=>"setXYScroll(83)", :onblur => "convert_case_toupper('insureds_id')", :tabindex=>"8", :value =>patient_info.insured_id %></td>
        </tr>
        </tbody>
      </table>
      <table width="100%">
        <tbody>
        <tr>
          <th align="left"><span class="button">4.</span> INSURED'S NAME <br><span class="small">[Last Name] [Suffix] [First Name] [Middle Intial]</span>
          </th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_last_name, :class=>"black_text", :size=>"8", :value=>patient_info.insured_last_name,
                             :onkeypress => "enlargeTextfieldSize('cms1500_insured_last_name',8)",
                             :onblur => "resetTextfieldSize('cms1500_insured_last_name',8); convert_case_toupper('cms1500_insured_last_name')",
                             :onFocus=>"setXYScroll(120)", :tabindex=>"23" %>
            <%= text_field :cms1500, :insured_suffix, :class=>"black_text", :maxlength=>'3', :style=>"width:30px", :value=>patient_info.insured_suffix, :onFocus=>"setXYScroll(120)", :onblur => "convert_case_toupper('cms1500_insured_suffix')", :tabindex=>"24" %>
            <%= text_field :cms1500, :insured_first_name, :class=>"black_text", :size=>"8",
                           :onkeypress => "enlargeTextfieldSize('cms1500_insured_first_name',8)",
                           :onblur => "resetTextfieldSize('cms1500_insured_first_name',8); convert_case_toupper('cms1500_insured_first_name')",
                           :value =>patient_info.insured_first_name, :onFocus=>"setXYScroll(120)", :tabindex=>"25" %>
            <%= text_field :cms1500, :insured_middle_initial, :class=>"black_text", :size=>"2", :value=>patient_info.insured_middle_initial, :onFocus=>"setXYScroll(120)", :onblur => "convert_case_toupper('cms1500_insured_middle_initial')", :tabindex=>"26", :maxlength=>'1' %></td>
        </tr>
        </tbody>
      </table>
      <table width="100%">
        <tbody>
        <tr>
          <th align="left"><span class="button">7.</span> INSURED'S ADDRESS (No., Street)</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_address, :class=>"black_text", :size=>"20",
                             :onkeypress => "enlargeTextfieldSize('cms1500_insured_address',20)",
                             :onblur => "resetTextfieldSize('cms1500_insured_address',20); convert_case_toupper('cms1500_insured_address')",
                             :value=>patient_info.insured_address, :onFocus=>"setXYScroll(157)", :tabindex=>"27" %>
               <%= text_field :cms1500, :insured_address2, :class=>"black_text", :size=>"20",
                             :onkeypress => "enlargeTextfieldSize('cms1500_insured_address',20)",
                             :onblur => "resetTextfieldSize('cms1500_insured_address',20); convert_case_toupper('cms1500_insured_address2')",
                             :value=>patient_info.insured_address2, :onFocus=>"setXYScroll(157)", :tabindex=>"27" %>
          </td>
        </tr>
        </tbody>
      </table>
      <table width="100%">
        <tbody>
        <tr>
          <th align="left" width="70%">CITY</th>
          <th align="left" width="30%">STATE</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_city, :class=>"black_text", :size=>"24", :value=>patient_info.insured_city,
                             :onkeypress => "enlargeTextfieldSize('cms1500_insured_city',24)",
                             :onblur => "resetTextfieldSize('cms1500_insured_city',24); convert_case_toupper('cms1500_insured_city')",
                             :onFocus=>"setXYScroll(193)", :tabindex=>"28" %></td>
          <td><%= select_tag 'insured_state', options_for_select(@state, patient_info.insured_state), :id=>"cms1500_insured_state", :onFocus=>"setXYScroll(193)", :tabindex=>"29" %></td>
        </tr>
        </tbody>
      </table>
      <table width="100%">
        <tbody>
        <tr>
          <th align="left">ZIP CODE</th>
          <th align="left">TELEPHONE (Include Area Code)</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_zipcode, :class=>"black_text", :maxlength=>'10', :size=>"10", :value=>patient_info.insured_zipcode, :onFocus=>"setXYScroll(228)", :tabindex=>"30" %></td>
          <td><%= text_field :cms1500, :insured_telephone, :class=>"black_text", :size=>"10", :value=>patient_info.insured_telephone, :onFocus=>"setXYScroll(228)", :tabindex=>"31" %></td>
        </tr>
        </tbody>
      </table>
      <table width="100%">

        <tbody>
        <tr>
          <th align="left"><span class="button">11.</span> INSURED'S POLICY GROUP OR FECA NUMBER</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_policy_group_or_feca_number, :id =>'feca', :class=>"black_text", :size=>"20", :value=>patient_info.insured_policy_group_or_feca_number, :onFocus=>"setXYScroll(270)", :tabindex=>"37", :onblur => "convert_case_toupper('feca')" %></td>
        </tr>
        <tr>
          <th align="left"><span class="button">a.</span> INSURED'S DATE OF BIRTH</th>
        </tr>
        <tr>
          <%

             @insured_dob_month =(patient_info.insured_dob).try(:strftime,"%m")
             @insured_dob_date  =(patient_info.insured_dob).try(:strftime,"%d")
             @insured_dob_year  =(patient_info.insured_dob).try(:strftime,"%Y")
          %>

          <td><%= text_field :cms15001, :insured_dob_month, :id => "insured_dob_month", :class=>"black_text", :size=>"1", :style=>"width:20px", :value=>@insured_dob_month, :maxlength=>'2', :onFocus=>"setXYScroll(300)", :tabindex=>"38" %>
            /
            <%= text_field :cms15001, :insured_dob_date, :id => "insured_dob_date", :class=>"black_text", :size=>"1", :style=>"width:20px", :value=>@insured_dob_date, :maxlength=>'2', :onFocus=>"setXYScroll(300)", :tabindex=>"39" %>
            /
            <%= text_field :cms15001, :insured_dob_year, :id => "insured_dob_year", :class=>"black_text", :size=>"1", :value=>@insured_dob_year, :maxlength=>'4', :onFocus=>"setXYScroll(300)", :onBlur => "isDOB_nonmandatory('insured_dob_month','insured_dob_date','insured_dob_year')", :tabindex=>"40" %>
            &nbsp; &nbsp;&nbsp;</td>
        </tr>
        <tr>
          <% if patient_info.insured_sex=='M'
              @insured_sex_m = true
          elsif patient_info.insured_sex=='F'
              @insured_sex_f = true
          elsif patient_info.insured_sex=='U'
              @insured_sex_u = true
          end
          %>
          <td>

            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td><span class="black_text"><strong>SEX</strong></span>&nbsp;</td>
                <td>M
                  <%= radio_button(:cms1500, :insured_sex, 'M', :checked =>true, :onFocus=>"setXYScroll(300)", :tabindex=>"41", :checked=>@insured_sex_m) %></td>
                <td>F
                  <%= radio_button(:cms1500, :insured_sex, 'F', :onFocus=>"setXYScroll(300)", :tabindex=>"41", :checked=>@insured_sex_f) %></td>
                <td>U
                  <%= radio_button(:cms1500, :insured_sex, 'U', :onFocus=>"setXYScroll(300)", :tabindex=>"41", :checked=>@insured_sex_u) %></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <th align="left"><span class="button">b.</span> EMPLOYER'S NAME OR SCHOOL NAME</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_employers_or_school_name, :id =>'emp_name', :class=>"black_text", :size=>"35",
                             :onkeypress => "enlargeTextfieldSize('emp_name',35)",
                             :onblur => "resetTextfieldSize('emp_name',35);",
                             :value=>patient_info.insured_employers_or_school_name, :onFocus=>"setXYScroll(340)" %></td>
        </tr>
        <tr>
          <th align="left"><span class="button">c.</span> INSURANCE PLAN NAME OR PROGRAM NAME</th>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :insured_plan_name, :id =>'insurance_plan_name', :class=>"black_text", :size=>"45",
                             :onkeypress => "enlargeTextfieldSize('insurance_plan_name',45)",
                             :onblur => "resetTextfieldSize('insurance_plan_name',45); convert_case_toupper('insurance_plan_name')",
                             :value=>patient_info.insured_plan_name, :onFocus=>"setXYScroll(375)", :tabindex=>"43" %></td>
        </tr>
        <tr>
          <th align="left"><span class="button">d.</span> IS THERE ANOTHER HEALTH BENEFIT PLAN?</th>
        </tr>
        <tr>
          <% if patient_info.other_health_benefit_plan=='Yes'
              @health_plan_y = true
          else
              if patient_info.other_health_benefit_plan=='No'
                  @health_plan_n = true
              else
                  @health_plan_y = false
                  @health_plan_n = false
              end
          end
          %>
          <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>Yes
                  <%= radio_button(:cms1500, :other_health_benefit_plan, 'Yes', :onFocus=>"setXYScroll(410)", :checked=>@health_plan_y, :disabled =>true) %></td>
                <td>No
                  <%= radio_button(:cms1500, :other_health_benefit_plan, 'No', :onFocus=>"setXYScroll(410)", :checked=>@health_plan_n, :disabled =>true) %></td>
              </tr>
            </table>
            &nbsp;If <strong>yes</strong>, return to and complete item 9 a-d.
          </td>
        </tr>
        </tbody>
      </table>
      <table border="0" cellpadding="0" cellspacing="0" width="100%">
        <tbody>
        <tr>
          <td class="black_text">&nbsp;</td>
        </tr>
        <tr>
          <td height="90"><span class="button"><strong>13.</strong></span>INSURED'S
            OR AUTHORIZED PERSON'S SIGNATURE I authorize payment of medical
            benefits to the undersigned physician or supplier for services
            described below.
          </td>
        </tr>
        <tr>
          <% if patient_info.insured_signature_on_file=='Signature on File'
              @ins_sign_on_file_y = true
          else
              if patient_info.insured_signature_on_file=='None'
                  @ins_sign_on_file_n  = true
              else
                  @ins_sign_on_file_y = false
                  @ins_sign_on_file_n  = false
              end
          end

          %>
          <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>Signature on File:</td>
                <td>Yes
                  <%= radio_button(:cms1500, :insured_signature_on_file, 'Signature on File', :onFocus=>"setXYScroll(450)", :tabindex=>"49", :checked=>@ins_sign_on_file_y) %></td>
                <td>No
                  <%= radio_button(:cms1500, :insured_signature_on_file, 'None', :onFocus=>"setXYScroll(450)", :tabindex=>"49", :checked=>@ins_sign_on_file_n) %></td>
                <td>None <%= radio_button(:cms1500, :insured_signature_on_file, 'None', :onFocus=>"setXYScroll(450)", :tabindex=>"49", :checked=>@ins_sign_on_file_n) %></td>
              </tr>
            </table>
          </td>
        </tr>
        </tbody>
      </table>
    </td>
    </tr>
    <tr>
      <td colspan="2" align="left" bgcolor="#016696" height="3" valign="top"></td>
    </tr>
    <tr>
      <td align="left" valign="top">
        <table width="100%" border="0" cellpadding="0" cellspacing="0" width="100%">

          <tr>
            <th colspan="2" align="left"><span class="button">14.</span> DATE OF CURRENT:</th>
            <th colspan="3" align="left"><span class="button">15.</span> IF PATIENT HAS HAD SAME OR SIMILAR ILLNESS.
            </th>
          </tr>
          <tr>
            <%

               @current_date_month =(patient_info.date_of_current_illness).try(:strftime,"%m")
               @current_date_date  =(patient_info.date_of_current_illness).try(:strftime,"%d")
               @current_date_year =(patient_info.date_of_current_illness).try(:strftime,"%Y")
            %>


            <td height="90" width="181"><strong>Date:(MM:DD:YYYY)
            </strong><br>
              <%= text_field :cms15001, :current_dob_month, :class=>"black_text", :id =>'current_month', :size=>"2", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"50", :value =>@current_date_month %>
              /
              <%= text_field :cms15001, :current_dob_date, :class=>"black_text", :id =>'current_date', :size=>"2", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"51", :value =>@current_date_date %>
              /
              <%= text_field :cms15001, :current_dob_year, :class=>"black_text", :id =>'current_year', :size=>"2", :maxlength=>'4', :onFocus=>"setXYScroll(520)", :onblur=>"isValidDate(current_month,current_date,current_year)", :tabindex=>"52", :value =>@current_date_year %>
              &nbsp;</td>
            <td width="142">ILLNESS (First symptom) OR<br>
              INJURY (Accident) OR<br>
              PREGNANCY(LMP)
            </td>
            <td colspan="3">GIVE FIRST DATE<br>
              <br>
              <%

                 @simillar_illness_month =(patient_info.first_date_similar_illness).try(:strftime,"%m")
                 @simillar_illness_date  =(patient_info.first_date_similar_illness).try(:strftime,"%d")
                 @simillar_illness_year =(patient_info.first_date_similar_illness).try(:strftime,"%Y")
              %>

              <strong>Date:(MM:DD:YYYY)</strong><br>
              <%= text_field :cms15001, :similarillness_dob_month, :id =>'illness_month', :style=>"width:20px", :class=>"black_text", :size=>"4", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"53", :value=>@simillar_illness_month %>
              /
              <%= text_field :cms15001, :similarillness_dob_date, :id => 'illness_date', :style=>"width:20px", :class=>"black_text", :size=>"4", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"54", :value=>@simillar_illness_date %>
              /
              <%= text_field :cms15001, :similarillness_dob_year, :id =>'illness_year', :class=>"black_text", :size=>"4", :maxlength=>'4', :onFocus=>"setXYScroll(520)", :onblur=>"isValidDate(illness_month,illness_date,illness_year)", :tabindex=>"55", :value=>@simillar_illness_year %>
              &nbsp;</td>
          </tr>
          <tr>
            <th colspan="2" align="left"><span class="button">17.</span> NAME OF REFERRING PROVIDER OR OTHER
              SOURCE<br><span class="small">[First Name] [Middle] [Last Name] [Suffix]</span></th>
            <td bgcolor="#ece9d8" width="26">17a.</td>
            <td bgcolor="#ece9d8" width="25"><%= text_field :cms1500, :referring_provider_other_qualifier, :class=>"black_text", :id=>'ref_prv_a', :size=>"5", :style=>"width:20px", :onFocus=>"setXYScroll(550)", :onblur => "convert_case_toupper('ref_prv_a')", :tabindex=>"63", :value =>patient_info.referring_provider_other_qualifier %></td>
            <td bgcolor="#ece9d8" width="221"><%= text_field :cms1500, :referring_provider_other_id, :class=>"black_text", :size=>"10", :id =>'ref_prv_b', :onFocus=>"setXYScroll(550)", :onblur => "convert_case_toupper('ref_prv_b')", :tabindex=>"64", :value =>patient_info.referring_provider_other_id, :maxlength=>'17' %></td>
          </tr>
          <tr>
            <td colspan="2">
              <%= radio_button(:radio_choicerefprvname, :attribute, 'Yes', :checked => (patient_info.referring_provider_first_name.present? || (patient_info.referring_provider_first_name.blank? && patient_info.reffering_provider_organisation_name.blank?)) ? true : false, :onChange=>"fieldenablerefprvl()", :onFocus=>"setXYScroll(550)", :tabindex=>"62") %>
              <%= text_field :cms1500, :referring_provider_first_name, :class=>"black_text", :size=>"15", :id =>'ref_prv_name2',
                             :onkeypress => "enlargeTextfieldSize('ref_prv_name2',15)",
                             :onblur => "resetTextfieldSize('ref_prv_name2',15); convert_case_toupper('ref_prv_name2')",
                             :onFocus=>"setXYScroll(550)", :tabindex=>"62", :value =>patient_info.referring_provider_first_name %>
              <%= text_field :cms1500, :referring_provider_middle_initial, :class=>"black_text", :style=>"width:15px", :size=>"2", :id =>'ref_prv_name3', :onFocus=>"setXYScroll(550)", :onblur => "convert_case_toupper('ref_prv_name3')", :tabindex=>"62", :value =>patient_info.referring_provider_middle_initial, :maxlength=>'1' %>
              <%= text_field :cms1500, :referring_provider_last_name, :class=>"black_text", :size=>"15", :id =>'ref_prv_name',
                             :onkeypress => "enlargeTextfieldSize('ref_prv_name',15)",
                             :onblur => "resetTextfieldSize('ref_prv_name',15); convert_case_toupper('ref_prv_name')",
                             :onFocus=>"setXYScroll(550)", :tabindex=>"62", :value =>patient_info.referring_provider_last_name %>
              <%= text_field :cms1500, :referring_provider_suffix, :class=>"black_text", :style=>"width:30px", :maxlength=>'3', :id =>'ref_prv_name1', :onFocus=>"setXYScroll(550)", :onblur => "convert_case_toupper('ref_prv_name1')", :tabindex=>"62", :value =>patient_info.referring_provider_suffix %>
              <br><br> <%= radio_button(:radio_choicerefprvname, :attribute, 'Yes', :checked => patient_info.reffering_provider_organisation_name.present?, :onChange=>'fieldrefprvorg()', :onFocus=>"setXYScroll(950)", :tabindex=>"62") %>
              Organisation Name :<br>
              <%= text_field :cms1500, :reffering_provider_organisation_name, :id=>"refprv_orgnname", :size =>33, :onFocus=>"setXYScroll(950)",
                             :onkeypress => "enlargeTextfieldSize('refprv_orgnname',30)",
                             :onblur => "resetTextfieldSize('refprv_orgnname',30); convert_case_toupper('refprv_orgnname')",
                             :tabindex=>"62", :value =>patient_info.reffering_provider_organisation_name, :maxlength=>'35' %>
            </td>
            <td>17b.</td>
            <td>NPI</td>
            <td><%= text_field :cms1500, :referring_provider_npi_id, :id=>'ref_prv_npi', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(550)", :onBlur => "npivalidation()", :tabindex=>"65", :value =>patient_info.referring_provider_npi_id, :maxlength=>'10' %></td>
          </tr>
    </tbody>
    </table>
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tbody>
      <tr>
        <th colspan="2" align="left"><span class="button">19.</span> RESERVED FOR LOCAL USE</th>
      </tr>
      <tr>
        <td colspan="2">
          <textarea name="reserved_local_use" id='reserverd_area' cols="90" rows="4" class="black_text" onfocus="setXYScroll(590)"><%= patient_info.reserved_local_use %> </textarea>
        </td>
      </tr>
      <tr>
        <th colspan="2" align="left">21. DIAGNOSIS OR NATURE OF ILLNESS OR INJURY (Relate Items 1, 2, 3 or 4 to Item 24E
          by Line)
        </th>
      </tr>
      <tr>
        <td height="40" width="20%">1
          <%= text_field :cms1500, :nature_of_illness_or_injury_1, :id => 'injury1', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury1')", :tabindex=>"67", :value => patient_info.nature_of_illness_or_injury_1 %></td>
        <td width="20%">3
          <%= text_field :cms1500, :nature_of_illness_or_injury_3, :id =>'injury3', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury3')", :tabindex=>"68", :value => patient_info.nature_of_illness_or_injury_3 %></td>
        <td width="20%">5
          <%= text_field :cms1500, :nature_of_illness_or_injury_5, :id =>'injury5', :maxlength=>'9', :class=>"black_text",  :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury5')", :value => (patient_info.nature_of_illness_or_injury_5 unless patient_info.nil?), :tabindex=>"69" %></td>
        <td width="20%">7
          <%= text_field :cms1500, :nature_of_illness_or_injury_7, :id =>'injury7', :maxlength=>'9', :class=>"black_text",  :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury7')", :value => (patient_info.nature_of_illness_or_injury_7 unless patient_info.nil?), :tabindex=>"70" %></td>
      </tr>
      <tr>
        <td height="40">2
          <%= text_field :cms1500, :nature_of_illness_or_injury_2, :id =>'injury2', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury2')", :tabindex=>"67", :value => patient_info.nature_of_illness_or_injury_2 %></td>
        <td>4
          <%= text_field :cms1500, :nature_of_illness_or_injury_4, :id =>'injury4', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury4')", :tabindex=>"68", :value => patient_info.nature_of_illness_or_injury_4 %></td>
        <td>6
          <%= text_field :cms1500, :nature_of_illness_or_injury_6, :id =>'injury6', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury6')", :value => (patient_info.nature_of_illness_or_injury_6 unless patient_info.nil?), :tabindex=>"69" %></td>
        <td>8
          <%= text_field :cms1500, :nature_of_illness_or_injury_8, :id =>'injury8', :maxlength=>'9', :class=>"black_text", :size=>"10", :onFocus=>"setXYScroll(630)", :onblur => "convert_case_toupper('injury8')", :value => (patient_info.nature_of_illness_or_injury_8 unless patient_info.nil?), :tabindex=>"70" %></td>
       </tr>
      </tbody>
    </table>
    </td>
    <td align="left" valign="top">
      <table width="100%">

        <tbody>
        <tr>
          <th colspan="2" align="left"><span class="button">16.</span> DATES PATIENT UNABLE TO WORK IN CURRENT
            OCCUPATION
          </th>
        </tr>
        <tr>

          <%

             @unable_towork_from_month =(patient_info.patient_unable_to_work_from_date).try(:strftime,"%m")
             @unable_towork_from_date  =(patient_info.patient_unable_to_work_from_date).try(:strftime,"%d")
             @unable_towork_from_year =(patient_info.patient_unable_to_work_from_date).try(:strftime,"%Y")

             @unable_towork_to_month =(patient_info.patient_unable_to_work_to_date).try(:strftime,"%m")
             @unable_towork_to_date  =(patient_info.patient_unable_to_work_to_date).try(:strftime,"%d")
             @unable_towork_to_year =(patient_info.patient_unable_to_work_to_date).try(:strftime,"%Y")

          %>

          <td colspan="2" height="70">
            <div align="center">
              <%= text_field :cms15001, :patient_unable_work_from_dob_month, :id =>'occu_from_month', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"56", :value =>@unable_towork_from_month %>
              /
              <%= text_field :cms15001, :patient_unable_work_from_dob_date, :id =>'occu_from_date', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"57", :value =>@unable_towork_from_date %>
              /
              <%= text_field :cms15001, :patient_unable_work_from_dob_year, :id =>'occu_from_year', :class=>"black_text", :size=>"4", :maxlength=>'4', :onFocus=>"setXYScroll(520)", :onblur=>"isValidDate(occu_from_month,occu_from_date,occu_from_year)", :tabindex=>"58", :value=>@unable_towork_from_year %>
              &nbsp;
              <br>
              <strong>To</strong><br>
              <%= text_field :cms15001, :patient_unable_work_to_dob_month, :id =>'occu_to_month', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"59", :value =>@unable_towork_to_month %>
              /
              <%= text_field :cms15001, :patient_unable_work_to_dob_date, :id =>'occu_to_date', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(520)", :tabindex=>"60", :value =>@unable_towork_to_date %>
              /
              <%= text_field :cms15001, :patient_unable_work_to_dob_year, :id =>'occu_to_year', :class=>"black_text", :size=>"4", :maxlength=>'4', :onFocus=>"setXYScroll(520)", :onblur=>"compareDates_occupation(); isValidDate(occu_to_month,occu_to_date,occu_to_year)", :tabindex=>"61", :value =>@unable_towork_to_year %>
            </div>
          </td>
        </tr>
        <tr>
          <th colspan="2" align="left"><span class="button">18.</span> HOSPITALIZATION DATES RELATED TO CURRENT SERVICES
          </th>
        </tr>
        <tr>
          <%

             @hospitalization_from_month =(patient_info.hospitalization_from_date).try(:strftime,"%m")
             @hospitalization_from_date  =(patient_info.hospitalization_from_date).try(:strftime,"%d")
             @hospitalization_from_year =(patient_info.hospitalization_from_date).try(:strftime,"%Y")

             @hospitalization_to_month =(patient_info.hospitalization_to_date).try(:strftime,"%m")
             @hospitalization_to_date  =(patient_info.hospitalization_to_date).try(:strftime,"%d")
             @hospitalization_to_year =(patient_info.hospitalization_to_date).try(:strftime,"%Y")

          %>

          <td colspan="2" height="70">
            <div align="center">
              <%= text_field :cms15001, :hospitalization_from_month, :id =>'service_from_month', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(550)", :tabindex=>"66", :value =>@hospitalization_from_month %>
              /
              <%= text_field :cms15001, :hospitalization_from_date, :id =>'service_from_date', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(550)", :tabindex=>"66", :value =>@hospitalization_from_date %>
              /
              <%= text_field :cms15001, :hospitalization_from_year, :id =>'service_from_year', :class=>"black_text", :size=>"4", :size=>"4", :maxlength=>'4', :onFocus=>"setXYScroll(550)", :onblur=>"isValidDate(service_from_month,service_from_date,service_from_year)", :tabindex=>"66", :value =>@hospitalization_from_year %>
              <br>
              <strong>To</strong><br>
              <%= text_field :cms15001, :hospitalization_to_month, :id =>'service_to_month', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(550)", :tabindex=>"66", :value =>@hospitalization_to_month %>
              /
              <%= text_field :cms15001, :hospitalization_to_date, :id =>'service_to_date', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(550)", :tabindex=>"66", :value =>@hospitalization_to_date %>
              /
              <%= text_field :cms15001, :hospitalization_to_year, :id =>'service_to_year', :class=>"black_text", :size=>"4", :maxlength=>'4', :onFocus=>"setXYScroll(550)", :onblur=>"compareDates_service(); isValidDate(service_to_month,service_to_date,service_to_year)", :tabindex=>"66", :value =>@hospitalization_to_year %>
            </div>
          </td>
        </tr>
        <tr>
          <th align="left" width="47%"><span class="button">20.</span> OUTSIDE LAB?</th>
          <th align="left" width="53%"> $ CHARGES</th>
        </tr>
        <tr>
          <% if patient_info.outside_lab=='Yes'
              @outside_lab_y = true
          else
              if patient_info.outside_lab=='No'
                  @outside_lab_n = true
              else
                  @outside_lab_y = false
                  @outside_lab_n = false
              end
          end
          %>
          <td>
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>Yes
                  <%= radio_button(:cms1500, :outside_lab, 'Yes', :onFocus=>"setXYScroll(590)", :checked=> @outside_lab_y) %></td>
                <td>No
                  <%= radio_button(:cms1500, :outside_lab, 'No', :onFocus=>"setXYScroll(590)", :checked=> @outside_lab_n) %></td>
                <td>None
                  <%= radio_button(:cms1500, :outside_lab, 'None', :onFocus=>"setXYScroll(590)") %></td>
              </tr>
            </table>
          </td>
          <td><%= text_field :cms1500, :outside_lab_charge, :id=>'lab_charge', :class=>"black_text", :size=>"4", :style=>"text-align: right", :onFocus=>"setXYScroll(590)" %></td>
        </tr>
        <tr>
          <th colspan="2" align="left"><span class="button">22.</span> MEDICAID RESUBMISSION</th>
        </tr>
        <tr>
          <td>CODE</td>
          <td>ORIGINAL REF. NO.</td>
        </tr>
        <tr>
          <td><%= text_field :cms1500, :medicaid_resubmission_code, :id =>'medi_code', :class=>"black_text", :size=>"14", :onFocus=>"setXYScroll(630)", :maxlength=>'12', :value =>patient_info.medicaid_resubmission_code %></td>
          <td><%= text_field :cms1500, :medicaid_resubmission_ref_number, :id =>'original_ref_number', :class=>"black_text", :size=>"14", :onFocus=>"setXYScroll(630)", :maxlength=>'18', :value =>patient_info.medicaid_resubmission_ref_number %></td>
        </tr>

        <tr>
          <th colspan="2" align="left">23. PRIOR AUTHORIZATION NUMBER</th>
        </tr>
        <tr>
          <td colspan="2" align="left"><%= text_field :cms1500, :prior_authorization_number, :id =>'prior_auth_number', :class=>"black_text", :maxlength=>'29', :size=>"40", :onFocus=>"setXYScroll(665)", :onblur => "convert_case_toupper('prior_auth_number')", :tabindex=>"71", :value =>patient_info.prior_authorization_number %></td>
        </tr>

        </tbody>
      </table>
    </td>
    </tr>
    <tr>
    <td colspan="2" align="left" valign="top">

<table width="900px" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <th colspan="2" align="left"><span class="button">24</span> A. DATE(S) OF SERVICE</th>

                <th width="59" rowspan="2">B.<br/>
                  PLACE OF<br/>
                  SERVICE
                </th>
                <th width="34" rowspan="2">C.<br/>
                  EMG
                </th>
                <th colspan="2">D.PROCEDURES, SERVICES, OR SUPPLIES</th>

                <th rowspan="2">E.<br/>
                  DIAGNOSIS<br/>
                  POINTER
                </th>
                <th width="59" rowspan="2">F.<br/>
                  $ CHARGES
                </th>
                <th width="34" rowspan="2">G.<br/>

                  DAYS<br/>
                  OR<br/>
                  UNITS
                </th>
                <th width="34" rowspan="2">H.<br/>
                  MINUTES
                </th>
                <th width="38" rowspan="2">I.<br/>
                  EPSDT<br/>
                  Family<br/>

                  Plan
                </th>
                <th width="37" rowspan="2">J.<br/>
                  ID.<br/>
                  QUAL.
                </th>
                <th width="96" rowspan="2">K.<br/>
                  RENDERING<br/>

                  PROVIDER ID. #
                </th>
                <th rowspan="2">&nbsp;</th>
              </tr>
              <tr>
                <th width="85">From</th>
                <th width="88">To</th>
                <th>CPT/HCPCS</th>

                <th>MODIFIER</th>
              </tr>
              <tr>
                <td bgcolor="#ECE9D8">MM/DD/YYYY</td>
                <td bgcolor="#ECE9D8">MM/DD/YYYY</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>

                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8">&nbsp;</td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'epsdt_familycharge_id1', :size => 6, :id=>"epsdt_familycharge_id1", :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('epsdt_familycharge_id1')", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :tabindex=>"83" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'id_qual1', :size => 6, :id=>"id_qua1", :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('id_qua1')", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :tabindex=>"84" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'rendering_provider_id1', :size => 6, :id=>'rendering_provider1', :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('rendering_provider1')", :style=>'width:70px', :class=>"black_text", :maxlength=>'11', :tabindex=>"85" %></td>
                <td height="30" bgcolor="#ECE9D8">
                </td>
              </tr>

              <tr>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'dateofservice_from', :id=>'dateofservicefrom', :size => 6, :onchange=>"addSlashToDate('dateofservicefrom')", :onblur => "dateservicefrom1()", :onFocus=>"setXYScroll(700)", :class=>"black_text", :maxlength=>'10', :tabindex=>"72" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'dateofservice_to', :id=>'dateofserviceto', :size => 6, :onchange=>"addSlashToDate('dateofserviceto')", :onblur=>"dateserviceTo(); compareDatesFromandTononocr()", :onFocus=>"setXYScroll(700)", :class=>"black_text", :maxlength=>'10', :tabindex=>"73" %></td>
                <td bgcolor="#ECE9D8"><%= select :lineinformation, :placeofservice, options_for_select(@placeofservice), {}, {:tabindex=>"74", :id =>"placeofservice"}%></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'emg', :id=>'emgz', :size => 6, :maxlength=>'1', :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('emgz')", :tabindex=>"74" %></td>

                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'cpthcpcs', :id => 'cpthcpcd_id', :size => 6, :maxlength=>'5', :style=>'width:40px', :class=>"black_text", :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('cpthcpcd_id')", :tabindex=>"75" %>
                  <span id="cpt_code_description"></span></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'modifier', :id => 'modifier_id', :size => 1, :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :onFocus=>"setXYScroll(700)", :onBlur => "validate_modifier('modifier_id'); convert_case_toupper('modifier_id')", :tabindex=>"76" %>
                  <%= text_field 'lineinformation', 'modifier1', :id => 'modifier_id1', :size => 1, :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :onFocus=>"setXYScroll(700)", :onBlur => "validate_modifier('modifier_id1'); convert_case_toupper('modifier_id1')", :tabindex=>"77" %>
                  <%= text_field 'lineinformation', 'modifier2', :id => 'modifier_id2', :size => 1, :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :onFocus=>"setXYScroll(700)", :onBlur => "validate_modifier('modifier_id2'); convert_case_toupper('modifier_id2')", :tabindex=>"78" %>
                  <%= text_field 'lineinformation', 'modifier3', :id => 'modifier_id3', :size => 1, :onFocus=>"setXYScroll(700)", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :onBlur => "validate_modifier('modifier_id3'); convert_case_toupper('modifier_id3')", :tabindex=>"79" %></td>

                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'diagnosis_pointer', :id => 'diagnosis_pointer_id', :size => 6, :onFocus=>"setXYScroll(700)", :style=>'width:40px', :class=>"black_text", :maxlength=>'4', :tabindex=>"80" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'charges', :id => 'charges_id', :size => 6, :onFocus=>"setXYScroll(700)", :style=>'width:60px', :style=>"text-align: right", :class=>"black_text", :maxlength=>'10', :tabindex=>"81" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'days_or_units', :id => 'days_or_units_id', :size => 6, :onFocus=>"setXYScroll(700)", :style=>'width:22px', :class=>"black_text", :maxlength=>'6', :tabindex=>"82" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'minutes', :id => 'minutes_id', :size => 6, :onFocus=>"setXYScroll(700)", :style=>'width:22px', :class=>"black_text", :maxlength=>'3', :tabindex=>"82" %></td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'epsdt_familycharge', :id => 'epsdt_familycharge_id', :size => 6, :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('epsdt_familycharge_id')", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :tabindex=>"83" %></td>
                <td bgcolor="#ECE9D8">NPI</td>
                <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'rendering_provider_id2', :id => 'rendering_provider_id2_id', :size => 6, :onFocus=>"setXYScroll(700)", :onBlur => "convert_case_toupper('rendering_provider_id2_id')", :style=>'width:70px', :class=>"black_text", :maxlength=>'10', :tabindex=>"85" %></td>
                <%= hidden_field 'lineinformation', 'count', :id=>1700, :size => 3 %>
                <%= hidden_field 'lineinformation', 'rowcount', :id=>1800, :size => 3 %>
                <%= hidden_field 'job1', 'countr', :id=>"s", :size => 3 %>
                <td height="30" bgcolor="#ECE9D8">
                  <input type="button" id = "svc_add_btn" value="Add" class='button' name="option1" onclick="javascript:addRow('myTable')" tabindex="86" accesskey = '+'>
                </td>
              </tr>
            </table>

    <table width="850px" border="0" cellpadding="0" cellspacing="0" width="100%" id="myTable">
    <tr>
      <th colspan="1" align="left"></th>
      <th colspan="2" align="left"><span class="button">24</span> A. DATE(S) OF SERVICE</th>
      <th rowspan="2" width="59">B.<br/>
        PLACE OF<br>
        SERVICE
      </th>
      <th rowspan="2" width="34">C.<br/>
        EMG
      </th>
      <th colspan="2">D.PROCEDURES, SERVICES, OR SUPPLIES</th>
      <th rowspan="2">E.<br/>
        DIAGNOSIS<br>
        POINTER
      </th>
      <th rowspan="2" width="59">F.<br/>
        $ CHARGES
      </th>
      <th rowspan="2" width="34">G.<br/>
        DAYS<br/>
        OR<br/>
        UNITS
      </th>
      <th rowspan="2" width="34">H.<br/>
        MINUTES
      </th>
      <th rowspan="2" width="38">I.<br/>
        EPSDT<br/>
        Family<br/>
        Plan
      </th>
      <th rowspan="2" width="37">J.<br>
        ID.<br>
        QUAL.
      </th>
      <th rowspan="2" width="96">K.<br>
        RENDERING<br>
        PROVIDER ID. #
      </th>
      <th rowspan="2">&nbsp;</th>
    </tr>
    <tr>
      <th colspan="1" align="left"></th>
      <th width="85">From</th>
      <th width="88">To</th>
      <th>CPT/HCPCS</th>
      <th>MODIFIER</th>
      <% j=0 %>
      <% @l=[] %>
      <% data_row_count = @lineinfo.length %>

    </tr>
    <tr>
      <% for line in @lineinfo %>
          <% j=j+1 %>
          <% @l << line.id %>

        <tr>
          <td> <%= j %><%#= radio_button(:radioInput, j,  :checked=>true, :tabindex=>"72") %></td>
          <% for i in 1 .. 10 %>
              <td>
                -
              </td>

          <% end %>
          <% scroll_pos = 750+ (j-1)*40 %>
          <td>
            <% if line.epsdt.blank? %>
                <%= text_field 'lineinformation', 'epsdt11'+j.to_s, :size => 6, :id=>'epsdt_familycharge_id1_'+j.to_s, :onblur => "convert_case_toupper('epsdt_familycharge_id1_#{j.to_s}')", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :value =>'' %>
            <% else %>
                <%= text_field 'lineinformation', 'epsdt11'+j.to_s, :size => 6, :id=>'epsdt_familycharge_id1_'+j.to_s, :onblur => "convert_case_toupper('epsdt_familycharge_id1_#{j.to_s}')", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :maxlength=>'2', :value =>line.epsdt %></td>
            <% end %>
            <td>
              <% if line.qual_id.blank? %>
                  <%= text_field 'lineinformation', 'qual_id11'+j.to_s, :size => 6, :id=>'id_qua1'+j.to_s, :onblur => "convert_case_toupper('id_qua1'+#{j.to_s})", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :class=>"black_text idqual", :maxlength=>'2', :value =>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'qual_id11'+j.to_s, :size => 6, :id=>'id_qua1'+j.to_s, :onblur => "convert_case_toupper('id_qua1'+#{j.to_s})", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :class=>"black_text idqual", :maxlength=>'2', :value =>line.qual_id %></td>
              <% end %>
              <td>
                <% if line.rendering_provider_id.blank? %>
                    <%= text_field 'lineinformation', 'rendering_provider_id11'+j.to_s, :size => 10, :id=>'rendering_provider1'+j.to_s, :onblur => "convert_case_toupper('rendering_provider1'+#{j.to_s})", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:70px', :class=>"black_text rendering_provider1", :maxlength=>'11', :value =>line.rendering_provider_id %>
                <% else %>

                    <%= text_field 'lineinformation', 'rendering_provider_id11'+j.to_s, :size => 10, :id=>'rendering_provider1'+j.to_s, :onblur => "convert_case_toupper('rendering_provider1'+#{j.to_s})", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:70px', :class=>"black_text rendering_provider1", :maxlength=>'11', :value =>line.rendering_provider_id %></td>
                <% end %>



                </tr>
        <tr>
          <td></td>
          <td bgcolor="#ECE9D8">
            <%= text_field 'lineinformation', 'dateofservice_from'+j.to_s, :size => 8, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :class=>"black_text from", :maxlength=>'10', :value =>(line.service_from_date.to_date.try(:strftime,"%m/%d/%Y") unless line.service_from_date.nil?), :onchange=>"addSlashToDate('lineinformation_dateofservice_from#{j.to_s}')" %></td>

          <td bgcolor="#ECE9D8">
            <% if line.service_to_date.blank? %>
                <%= text_field 'lineinformation', 'dateofservice_to'+j.to_s, :size => 8, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :class=>"black_text to", :maxlength=>'10', :value =>'', :onchange=>"addSlashToDate('dateofserviceto')" %>
            <% else %>
                <%= text_field 'lineinformation', 'dateofservice_to'+j.to_s, :size => 8, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :class=>"black_text to", :maxlength=>'10', :value =>(line.service_to_date.to_date.try(:strftime,"%m/%d/%Y") unless line.service_to_date.nil?), :onchange=>"addSlashToDate('lineinformation_dateofservice_to#{j.to_s}')" %></td>
            <% end %>

            <td bgcolor="#ECE9D8">
              <%= text_field 'lineinformation', 'placeof_service'+j.to_s, :size => 6, :maxlength=>'2', :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :class=>"black_text placeofservice", :maxlength=>'2', :value =>line.service_place %></td>


            <td bgcolor="#ECE9D8">
              <% if line.emg.blank? %>
                  <%= text_field 'lineinformation', 'emg'+j.to_s, :size => 6, :maxlength=>'1', :style=>'width:18px', :onblur => "convert_case_toupper('emgz'+#{j.to_s})", :class=>"black_text emgz", :maxlength=>'2', :value =>'', :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86" %>
              <% else %>
                  <%= text_field 'lineinformation', 'emg'+j.to_s, :size => 6, :maxlength=>'1', :style=>'width:18px', :onblur => "convert_case_toupper('emgz'+#{j.to_s})", :class=>"black_text emgz", :maxlength=>'2', :value => line.emg, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86" %>
              <% end %>
            </td>
            <td bgcolor="#ECE9D8">
              <%= text_field 'lineinformation', 'cpthcpcs'+j.to_s, :size => 6, :maxlength=>'5', :onblur => "convert_case_toupper('cpthcpcd_id'+#{j.to_s})", :tabindex=>"86", :style=>'width:40px', :class=>"black_text cpthcpcs", :value =>line.cpt_hcpcts, :onFocus=>"setXYScroll(#{scroll_pos})" %></td>

            <td bgcolor="#ECE9D8">
              <% if line.modifier1.blank? %>
                  <%= text_field 'lineinformation', 'modifierqa1'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id1_#{j.to_s}'); convert_case_toupper('modifier_id1_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text modifier1", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'modifierqa1'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id1_#{j.to_s}'); convert_case_toupper('modifier_id1_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text modifier1", :value=> line.modifier1 %>
              <% end %>

              <% if line.modifier2.blank? %>
                  <%= text_field 'lineinformation', 'modifierqa2'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id2_#{j.to_s}'); convert_case_toupper('modifier_id2_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text modifier2", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'modifierqa2'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id2_#{j.to_s}'); convert_case_toupper('modifier_id2_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text modifier2", :value=> line.modifier2 %>
              <% end %>

              <% if line.modifier3.blank? %>
                  <%= text_field 'lineinformation', 'modifierqa3'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id3_#{j.to_s}'); convert_case_toupper('modifier_id3_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'modifierqa3'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id3_#{j.to_s}'); convert_case_toupper('modifier_id3_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :value=>line.modifier3 %>
              <% end %>

              <% if line.modifier4.blank? %>
                  <%= text_field 'lineinformation', 'modifierqa4'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id4_#{j.to_s}'); convert_case_toupper('modifier_id4_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'modifierqa4'+j.to_s, :maxlength=>'2', :size=>1, :onFocus=>"setXYScroll(#{scroll_pos})", :onBlur => "validate_modifier('modifier_id4_#{j.to_s}'); convert_case_toupper('modifier_id4_#{j.to_s}')", :tabindex=>"86", :style=>'width:18px', :class=>"black_text", :value=>line.modifier4 %>
              <% end %>

            </td>


            <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'diagnosis_pointer'+j.to_s, :maxlength=>'4', :size=>6, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:40px', :class=>"black_text diagnosis_pointer", :value=>line.diagnosis_pointer %></td>

            <td bgcolor="#ECE9D8"><%= text_field 'lineinformation', 'charges'+j.to_s, :maxlength=>'10', :size=>6, :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :style=>'width:18px', :style=>"text-align:right;", :class=>"black_text charges", :value=>line.charges %></td>


            <td bgcolor="#ECE9D8">
              <% if line.days_units.blank? %>
                  <%= text_field 'lineinformation', 'days_or_units'+j.to_s, :size => 6, :maxlength=>6, :style=>"width:22px", :class=>"black_text days_units", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value =>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'days_or_units'+j.to_s, :size => 6, :maxlength=>6, :style=>"width:22px", :class=>"black_text days_units", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value =>line.days_units %>
              <% end %>
            </td>
            <td bgcolor="#ECE9D8">
              <% if line.minutes.blank? %>
                  <%= text_field 'lineinformation', 'minutes'+j.to_s, :size => 6, :maxlength=>3, :style=>"width:22px", :class=>"black_text minutes", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value =>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'minutes'+j.to_s, :size => 6, :maxlength=>3, :style=>"width:22px", :class=>"black_text minutes", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value =>line.minutes %>
              <% end %>
            </td>
            <td bgcolor="#ECE9D8">
              <% if line.family_plan.blank? %>
                  <%= text_field 'lineinformation', 'epsdt_familycharge'+j.to_s, :size => 6, :maxlength=>2, :style=>"width:18px", :class=>"black_text", :onBlur => "convert_case_toupper('epsdt_familycharge_id_#{j.to_s}')", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'epsdt_familycharge'+j.to_s, :size => 6, :maxlength=>2, :style=>"width:18px", :class=>"black_text", :onBlur => "convert_case_toupper('epsdt_familycharge_id_#{j.to_s}')", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value=>line.family_plan %>
              <% end %>
            </td>

            <td bgcolor="#ECE9D8">
              NPI
            </td>
            <td bgcolor="#ECE9D8">
              <% if line.rendering_provider_qualifier_npi_id.blank? %>
                  <%= text_field 'lineinformation', 'rendering_provider_id2'+j.to_s, :size => 10, :width=>"width:70px", :maxlength=>11, :class=>"black_text rendering_provider", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value=>'' %>
              <% else %>
                  <%= text_field 'lineinformation', 'rendering_provider_id2'+j.to_s, :size => 10, :width=>"width:70px", :maxlength=>11, :class=>"black_text rendering_provider", :onFocus=>"setXYScroll(#{scroll_pos})", :tabindex=>"86", :value=>line.rendering_provider_qualifier_npi_id %>
              <% end %>
            </td>
            <td><%= tag "input", {"type" => "button", "value" => "Remove", "name" => "Remove", "class" => "button", "id" => "removeRow_#{j}", "onclick" => "removeRowQa(#{j},#{@lineinfo.length})"} %></td>

            </tr>
    <% end %>


   
    </tbody>   </table>
    </td>
    </tr>
    <tr>
    <td align="left" valign="top">
      <table width="601">
        <tbody>
        <tr>
          <th align="left" width="204"><span class="button">25.</span> FEDERAL TAX I.D. NUMBER</th>
          <th align="left" width="32">SSN</th>
          <th align="left" width="32">EIN</th>
          <th align="left" width="164"><span class="button">26.</span> PATIENT'S ACCOUNT NO.</th>
          <th align="left" width="147"><span class="button">27.</span> ACCEPT ASSIGNMENT?</th>
        </tr>
        <tr>
          <% if patient_info.federal_tax_id_type=='SSN'
              @id_type_ssn = true
          else
              @id_type_ein = true
          end

             if patient_info.accept_assignment=='Yes'
                 @accept_assignment_y = true
             else
                 @accept_assignment_n = true
             end
          %>

          <td align="right"><%= text_field :cms1500, :federal_tax_id, :id =>'federal_tx_id', :class=>"black_text", :size=>"20", :onFocus=>"setXYScroll(950)", :tabindex=>"87", :accesskey =>'f', :class=>"black_text", :maxlength=>'15', :value => patient_info.federal_tax_id %>              &nbsp;&nbsp;</td>
          <td align="right"><%= radio_button(:cms1500, :federal_tax_id_type, 'SSN', :checked=>true, :onFocus=>"setXYScroll(950)", :tabindex=>"88", :checked=> @id_type_ssn) %></td>
          <td align="right"><%= radio_button(:cms1500, :federal_tax_id_type, 'EIN', :onFocus=>"setXYScroll(950)", :tabindex=>"88", :checked=>@id_type_ein) %></td>
          <td align="right" width="164"><%= text_field :cms1500, :patient_account_number, :id =>'patient_account_info', :class=>"black_text", :size=>"25", :onFocus=>"setXYScroll(950)", :onblur => "convert_case_toupper('patient_account_info')", :tabindex=>"89", :value =>patient_info.patient_account_number, :maxlength=>'30' %></td>
          <td align="right" width="147">
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
              <tr>
                <td>Yes
                  <%= radio_button(:cms1500, :accept_assignment, 'Yes', :checked=>true, :onFocus=>"setXYScroll(950)", :tabindex=>"90", :checked =>@accept_assignment_y) %></td>
                <td>No
                  <%= radio_button(:cms1500, :accept_assignment, 'No', :onFocus=>"setXYScroll(950)", :tabindex=>"90", :checked=>@accept_assignment_n) %></td>
              </tr>
            </table>
          </td>
        </tr>
        <tr>
          <td colspan="3" rowspan="2" align="left" valign="top">
            <table width="100%">
              <tbody>
              <tr>
                <th align="left"><span class="button">31.</span> SIGNATURE OF PHYSICIAN OR SUPPLIER<br>
                  INCLUDING DEGREES OR CREDENTIALS<br>
                  (I certify that the statements on the reverse<br>
                  apply to this bill and are made a part thereof.)
                </th>
              </tr>
              <tr>
                <% if patient_info.physician_signature_on_file=='Yes'
                    @phy_sign_file_y = true
                else
                    @phy_sign_file_n = true
                end
                   @physician_sign_month =(patient_info.physician_sign_date).try(:strftime,"%m")
                   @physician_sign_day =(patient_info.physician_sign_date).try(:strftime,"%d")
                   @physician_sign_year =(patient_info.physician_sign_date).try(:strftime,"%Y")

                %>

                <td>
                  <table width="100%" border="0" cellpadding="0" cellspacing="0">
                    <tr>
                      <td>Yes
                        <%= radio_button(:cms1500, :physician_signature_on_file, 'Yes', :checked=>true, :onFocus=>"setXYScroll(950)", :tabindex=>"93", :checked =>@phy_sign_file_y) %></td>
                      <td>No
                        <%= radio_button(:cms1500, :physician_signature_on_file, 'No', :onFocus=>"setXYScroll(950)", :tabindex=>"93", :checked=>@phy_sign_file_n) %></td>
                    </tr>
                  </table>
                </td>
              </tr>
              </tbody>
            </table> <%= radio_button(:radio_choicephyname, :attribute, 'Yes', :checked => (patient_info.physician_first_name.present? || (patient_info.physician_organisation_name.blank? && patient_info.physician_first_name.blank?)) ? true : false, :onChange=>"fieldenablephyl()", :onFocus=>"setXYScroll(950)", :tabindex=>"94") %>
            Physician name:<span class="small"><b><br>[First Name] [Middle Intial] [Last Name] [Suffix]</b></span>

            <%= text_field :cms1500, :physician_first_name, :id =>'phy_first_name', :size => 11, :onFocus=>"setXYScroll(950)", :tabindex=>"94",
                           :onkeypress => "enlargeTextfieldSize('phy_first_name',11)",
                           :onblur => "resetTextfieldSize('phy_first_name',11); convert_case_toupper('phy_first_name')",
                           :class=>"black_text", :value =>patient_info.physician_first_name %>&nbsp;
            <%= text_field :cms1500, :physician_middle_initial, :id=>'phy_initial', :style=>"width:20px", :onblur => "convert_case_toupper('phy_initial')", :size => 2, :onFocus=>"setXYScroll(950)", :tabindex=>"94", :class=>"black_text", :value =>patient_info.physician_middle_initial, :maxlength=>'1' %>
            <%= text_field :cms1500, :physician_last_name, :id=>'phy_last_name', :size => 11, :onFocus=>"setXYScroll(950)", :tabindex=>"94",
                           :onkeypress => "enlargeTextfieldSize('phy_last_name',11)",
                           :onblur => "resetTextfieldSize('phy_last_name',11); convert_case_toupper('phy_last_name')",
                           :value => patient_info.physician_last_name, :class=>"black_text" %>
            <%= text_field :cms1500, :physician_suffix, :id=>'phy_suffix', :size => 4, :onblur => "convert_case_toupper('phy_suffix')", :onFocus=>"setXYScroll(950)", :class=>"black_text", :maxlength=>'3', :tabindex=>"94", :value => patient_info.physician_suffix %>&nbsp;


            <br><br>
            <%= radio_button(:radio_choicephyname, :attribute, 'Yes', :checked => patient_info.physician_organisation_name.present?, :onChange=>'fieldphyorg()', :onFocus=>"setXYScroll(950)", :tabindex=>"94") %>
            Organisation Name :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <%= text_field :cms1500, :physician_organisation_name, :id=>"phy_orgnname", :size =>30, :onFocus=>"setXYScroll(950)",
                           :onkeypress => "enlargeTextfieldSize('phy_orgnname',11)",
                           :onblur => "resetTextfieldSize('phy_orgnname',11); convert_case_toupper('phy_orgnname')",
                           :tabindex=>"94", :value =>patient_info.physician_organisation_name %>
            <br>Date:<br><%= text_field :cms15001, :physician_month, :id=>'phy_month', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(950)", :tabindex=>"94", :value =>@physician_sign_month, :disabled=>true %>
            /
            <%= text_field :cms15001, :physician_date, :id =>'phy_date', :class=>"black_text", :style=>"width:20px", :maxlength=>'2', :onFocus=>"setXYScroll(950)", :tabindex=>"94", :value =>@physician_sign_day, :disabled=>true %>
            /
            <%= text_field :cms15001, :physician_year, :id=>'phy_year', :class=>"black_text", :size=>"2", :maxlength=>'4', :onFocus=>"setXYScroll(950)", :tabindex=>"94", :value =>@physician_sign_year, :disabled=>true %>
          </td>
        </tr>
        <tr>
          <td colspan="2" align="right" valign="top">
            <table width="100%">
              <tr>
                <th colspan="2" align="left"><span class="button">32.</span> SERVICE FACILITY LOCATION INFORMATION</th>
              </tr>
              <tr>
                <td colspan="2">&nbsp;Organisation Name:&nbsp;&nbsp;
                  <%= text_field_with_auto_complete :cms1500, :service_facility_name, :size =>30, :class=>"black_text",
                                                    :onkeypress => "enlargeTextfieldSize('cms1500_service_facility_name',30)",
                                                    :onblur => "resetTextfieldSize('cms1500_service_facility_name',30); servicefacilityInformations(); convert_case_toupper('cms1500_service_facility_name')",
                                                    :onFocus=>"setXYScroll(950)", :tabindex=>"95", :value =>patient_info.service_facility_name, :maxlength=>'35' %></td>
              </tr>
              <tr>
                <td colspan="2">Address One:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <%= text_field :cms1500, :service_facility_address, :size => 20,
                                 :onkeypress => "enlargeTextfieldSize('cms1500_service_facility_address',20)",
                                 :onblur => "resetTextfieldSize('cms1500_service_facility_address',20); convert_case_toupper('cms1500_service_facility_address')",
                                 :class=>"black_text", :onFocus=>"setXYScroll(950)", :tabindex=>"96", :value =>patient_info.service_facility_address %></td></tr>
              <td colspan="2">Address Two:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <%= text_field :cms1500, :service_facility_address2, :size => 20,
                                 :onkeypress => "enlargeTextfieldSize('cms1500_service_facility_address2',20)",
                                 :onblur => "resetTextfieldSize('cms1500_service_facility_address',20); convert_case_toupper('cms1500_service_facility_address2')",
                                 :class=>"black_text", :onFocus=>"setXYScroll(950)", :tabindex=>"96", :value =>patient_info.service_facility_address2 %>
                </td></tr>
              </tr>
              <tr>
                <td colspan="2">City:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;&nbsp;&nbsp;
                  <%= text_field :cms1500, :service_facility_city, :size => 10, :class=>"black_text", :onFocus=>"setXYScroll(950)",
                                 :onkeypress => "enlargeTextfieldSize('cms1500_service_facility_city',30)",
                                 :onblur => "resetTextfieldSize('cms1500_service_facility_city',30); convert_case_toupper('cms1500_service_facility_city')",
                                 :tabindex=>"97", :value =>patient_info.service_facility_city %></td>
              </tr>
              <tr>
                <td colspan="2">State:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  &nbsp;
                  <%= select_tag 'service_facility_state', options_for_select(@state, patient_info.service_facility_state), :onFocus=>"setXYScroll(950)", :tabindex=>"98" %>
                  &nbsp;&nbsp;&nbsp;</td>
              </tr>
              <tr>
                <td colspan="2">Zipcode:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                  <%= text_field :cms1500, :service_facility_zipcode, :class=>"black_text", :size => 10, :maxlength=>'10', :onFocus=>"setXYScroll(950)", :tabindex=>"99", :value =>patient_info.service_facility_zipcode %></td>
              </tr>
              <tr>
                <td width="50%">&nbsp;&nbsp;a.
                  <%= text_field :cms1500, :service_facility_npi_id, :class=>"black_text", :size=>"15", :onFocus=>"setXYScroll(950)", :onBlur => "npivalidation()", :maxlength=>'10', :tabindex=>"100", :value => patient_info.service_facility_npi_id %></td>
                <td width="50%">b.
                  <%= text_field :cms1500, :service_facility_non_npi_id, :class=>"black_text", :size=>"15", :onFocus=>"setXYScroll(950)", :onblur => "convert_case_toupper('cms1500_service_facility_non_npi_id')", :maxlength=>'14', :tabindex=>"101", :value =>patient_info.service_facility_non_npi_id %></td>
              </tr>
            </table>


          </td>
        </tr>
        </tbody>
      </table>
    </td>
    <td align="left" valign="top">
      <table width="100%">

        <tbody>
        <tr>
          <th align="left" width="36%"><span class="button">28.</span><br>
            TOTAL CHARGE
          </th>
          <th align="left" width="34%"><span class="button">29.</span> <br>
            AMOUNT PAID
          </th>
          <%#*<th align="left" width="30%"><span class="button">30.</span> <br>%>
            <%#*BALANCE DUE%>
          <%#*</th>%>
        </tr>
        <tr>

          <td><%= text_field :cms1500, :total_charge, :value=> '', :style=>"text-align: right", :size=>'10', :value=> '', :onFocus=>"setXYScroll(950)", :value =>patient_info.total_charge, :class=>"black_text", :maxlength=>'11', :tabindex=>"91" %></td>
          <td><%= text_field :cms1500, :amount_paid, :size=>'10', :style=>"text-align: right", :tabindex=>"143", :value=>patient_info.amount_paid, :class=>"black_text", :maxlength=>'15', :onfocus=>'add()', :onchange=>'add()', :tabindex=>"92" %></td>
          <%#*<td><%= text_field :cms1500, :balance_due, :size=>'10', :style=>"text-align: right", :value=>'', :readonly=>true, :onFocus=>"setXYScroll(950)", :value =>patient_info.balance_due, :class=>"black_text", :maxlength=>'15' </td>%>
        </tr>
        <tr>
          <th colspan="3" align="left"><span class="button">33.</span> BILLING PROVIDER INFO &amp; PH</th>
        </tr>
        <tr>


          <td colspan="3"><%= radio_button(:radio_choice4343, :attribute, 'physic_name', :checked => patient_info.billing_provider_last_name.present?, :onChange=>"fieldenable()", :onFocus=>"setXYScroll(950)", :tabindex=>"104") %>
            Physician Name </br><span class="small">[Last Name] [Suffix] [First Name] [Middle Intial]</span><br>
            <%= text_field_with_auto_complete :cms1500, :billing_provider_last_name, :size => 6, :onFocus=>"setXYScroll(950)", :tabindex=>"104",
                                              :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_last_name',30)",
                                              :onblur => "resetTextfieldSize('cms1500_billing_provider_last_name',30); providerInformations(); convert_case_toupper('cms1500_billing_provider_last_name')",
                                              :value=>patient_info.billing_provider_last_name, :class=>"black_text", :maxlength=>'28' %>
            <%= text_field :cms1500, :billing_provider_suffix, :size => 6, :onblur => "convert_case_toupper('cms1500_billing_provider_suffix')", :onFocus=>"setXYScroll(950)", :tabindex=>"105", :value=>patient_info.billing_provider_suffix, :class=>"black_text", :maxlength=>'3' %>
            <%= text_field :cms1500, :billing_provider_first_name, :size => 6, :onFocus=>"setXYScroll(950)", :tabindex=>"106",
                           :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_first_name',6)",
                           :onblur => "resetTextfieldSize('cms1500_billing_provider_first_name',6); convert_case_toupper('cms1500_billing_provider_first_name')",
                           :value=>patient_info.billing_provider_first_name, :class=>"black_text", :maxlength=>'28' %>
            <%= text_field :cms1500, :billing_provider_middle_initial, :size =>2, :onblur => "convert_case_toupper('cms1500_billing_provider_middle_initial')", :onFocus=>"setXYScroll(950)", :tabindex=>"107", :value=>patient_info.billing_provider_middle_initial, :class=>"black_text", :maxlength=>'1' %>
          </td>
        </tr>
        <tr>
          <td colspan="3"><%= radio_button(:radio_choice4343, :attribute, 'org_name', :checked => (patient_info.billing_provider_name.present? || (patient_info.billing_provider_name.blank? && patient_info.billing_provider_last_name.blank?)) ? true : false, :onChange=>"fielddisable()", :onFocus=>"setXYScroll(950)", :tabindex=>"103") %>
            Organisation Name<br>
            <%= text_field_with_auto_complete :cms1500, :billing_provider_name, :size =>30, :onFocus=>"setXYScroll(950)",
                                              :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_first_name',6)",
                                              :onblur => "resetTextfieldSize('cms1500_billing_provider_first_name',6); convert_case_toupper('cms1500_billing_provider_name'); providerOrganizationInformations()",
                                              :tabindex=>"103", :value=>patient_info.billing_provider_name,
                                              :class=>"black_text", :maxlength=>'35' %>
          </td>
        </tr>
        <tr>
          <td colspan="3">Address One:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <%= text_field :cms1500, :billing_provider_address, :size =>20, :onFocus=>"setXYScroll(950)", :tabindex=>"109",
                           :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_address',20)",
                           :onblur => "resetTextfieldSize('cms1500_billing_provider_address',20); convert_case_toupper('cms1500_billing_provider_address')",
                           :value=>patient_info.billing_provider_address, :class=>"black_text" %>
          </td></tr>
        <td colspan="3">Address Two:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <%= text_field :cms1500, :billing_provider_address2, :size =>20, :onFocus=>"setXYScroll(950)", :tabindex=>"109",
                           :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_address2',20)",
                           :onblur => "resetTextfieldSize('cms1500_billing_provider_address2',20); convert_case_toupper('cms1500_billing_provider_address2')",
                           :value=>patient_info.billing_provider_address2, :class=>"black_text" %></td>
          </td>
        </tr>
        <tr>
          <td colspan="3">City:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <%= text_field :cms1500, :billing_provider_city, :size => 10, :onFocus=>"setXYScroll(950)", :tabindex=>"110",
                           :onkeypress => "enlargeTextfieldSize('cms1500_billing_provider_city',30)",
                           :onblur => "resetTextfieldSize('cms1500_billing_provider_city',30); convert_case_toupper('cms1500_billing_provider_city')",
                           :value=>patient_info.billing_provider_city, :class=>"black_text" %>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
        </tr>
        <tr>
          <td colspan="3">State:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

            <%= select_tag 'billing_prv_state', options_for_select(@state, patient_info.billing_provider_state), :onFocus=>"setXYScroll(950)", :tabindex=>"111" %></td>
        </tr>
        <tr>
          <td colspan="3">Zipcode:&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

            <%= text_field :cms1500, :billing_provider_zipcode, :size => 10, :onFocus=>"setXYScroll(950)", :tabindex=>"112", :value=> patient_info.billing_provider_zipcode, :class=>"black_text" %></td>
        </tr>
        <tr>
          <td colspan="3">Phone No:&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <%= text_field :cms1500, :billing_provider_phone, :size => 10, :onFocus=>"setXYScroll(950)", :tabindex=>"113", :value=>patient_info.billing_provider_phone, :class=>"black_text" %></td>
        </tr>
        <tr>
          <td colspan="3">&nbsp;&nbsp;a.
            <%= text_field :cms1500, :billing_provider_npi_id, :id=>'bill_a', :size => 10, :onFocus=>"setXYScroll(950)", :onBlur => "npivalidation()", :tabindex=>"114", :class=>"black_text", :maxlength=>'10', :value =>patient_info.billing_provider_npi_id %>
            &nbsp;&nbsp;b.
            <%= text_field :cms1500, :billing_provider_non_npi_id, :id=>'bill_b', :size => 10, :onFocus=>"setXYScroll(950)", :onblur => "convert_case_toupper('bill_b')", :tabindex=>"115", :class=>"black_text", :maxlength=>'17', :value=>patient_info.billing_provider_non_npi_id %></td>


        </tbody>
      </table>
    </td>
    </tr>
    </tbody></table>
    </div>
    <div style="float:left;">
      <% if params[:view] == 'qa_view' %>
      <table width="950px" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td bgcolor="#016696" class="sub_title"><strong class="button">&nbsp;&nbsp;Verfy Claims&nbsp;&nbsp;</strong>
          </td>
        </tr>
        <tr>
          <td>

            <table width='950px'>
              <tr>

                <th>Incorrect Fields</th>
                <th>Total field count</th>
                <th>Error Type</th>
                <th>Status</th>
                <th>QA Comments</th>
                <th>&nbsp;</th>
              </tr>
              <tr>

                <td class="white"><%= text_field :eobqa, :total_incorrect_fields, :size => 5, :class => 'black_text', :id=>'incorrect', :maxlength => 2, :tabindex=>"116" %></td>
                <td class="white"><%= text_field :eobqa, :total_field_count, :size => 5, :class => 'black_text', :id=>'total_field_count', :maxlength => 5, :tabindex=>"115", :value => patient_info.total_field_count unless patient_info.nil?%></td>
                <!--<td class="white"><%= select_tag 'errotypes', options_for_select(@errotypes), :selected=>true, :id=>'error2', :class => 'black_text', :tabindex=>"117" %> </td>-->

                <% o =0 %>
                <td>
                  <ul class="checklist" id="retro_qa_pro_error_type_ids" name="pro_error_type[id][]">
                    <% @error_type_new.each do |error_type1| %>
                        <% o = o + 1 %>
                        <li>
                          <label for="o<%= o %>"><input id="o<%= o %>" name="pro_error_type[id][]" type="checkbox" value="<%= error_type1.error_type %>"> <%= error_type1.error_type %>
                          </label></li>
                    <% end %>
                  </ul>
                </td>

                <td>
                  <%= select_tag 'status', optionize('Complete', 'Incomplete', 'Reject'), :id=>'status', :class => 'black_text', :onchange=>'checkIndex()', :tabindex=>"118" %>
                </td>
                <td align="center" valign="middle">
                  <textarea name="qa_comments" cols="50" rows="3" class="black_text" align="absmiddle" id="qa_comm" tabindex="119"><%= @job.processor_comments %></textarea>
                </td>
                <td><%= submit_tag "Update", :class => 'button', :name => "option1", :onclick => 'return formValidator_qa()', :tabindex=>"120", :accesskey => 'c' %>&nbsp; <%= submit_tag "Save claim", :class => 'button', :name => "option1", :onclick => 'return formvalidator_completedclaim()', :tabindex=>"121" %> &nbsp;<%= submit_tag "Delete claim", :class => 'button', :name => "option1", :onclick => "return confirm('Are you sure to delete this claim?')", :tabindex=>"122" %> </td>

              </tr>
              <tr bgcolor="#FFEDA6">
                <td colspan="8"><b align="center"><span id="cpt_code_description"></span></b></td>
              </tr>
            </table>
          </td>
        </tr>
      </table>
      <% else %>
      <table width="950px" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td>
            <%= submit_tag "Save claim", :class => 'button', :name => "option1", :onclick => 'return formvalidator_completedclaim()', :tabindex=>"121" %>
          </td>
          <td>
            <%= submit_tag "Delete claim", :class => 'button', :name => "option1", :onclick => "return confirm('Are you sure to delete this claim?')", :tabindex=>"122" %>
          </td>
        </tr>
      </table>
      <%end%>
<% end %>
      <% end %>
</div>
<!--Space for main form End -->


</body>
